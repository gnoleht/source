<style>
    .gutter.gutter-horizontal {
        background-image: url(img/horizontal.png);
        cursor: ew-resize;
    }

    .gutter.gutter-vertical {
        background-image: url(img/vertical.png);
        cursor: ns-resize;
    }

    .gutter {
        background-color: #eee;
        background-repeat: no-repeat;
        background-position: 50%;
    }
</style>

<div id="testRun" class="testRunPlan" ng-controller="testRunController">
    <div class="white_box" style="background-color:#edf1f5;padding:0; overflow: hidden">
        <ul class="nav nav-tabs" id="main_tab_01" role="tablist">
            <li class="nav-item">
                <a class="nav-link" href="/pm/testPlan?pjid={{menuParams.pjid}}&module=pj" id="tab_01-tab" data-toggle="tab" data-target="#tabTestPlan"
                   role="tab" aria-controls="tab_01" aria-selected="false">Test Plan</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="/pm/testRun?pjid={{menuParams.pjid}}&module=pj" id="tab_02-tab" data-toggle="tab" data-target="#tabTestRun"
                   role="tab" aria-controls="tab_02" aria-selected="true">Run Test</a>
            </li>
            <!--<li class="nav-item">
                <a class="nav-link" href="/pm/testDashboard?pjid={{menuParams.pjid}}&module=pj" id="tab_03-tab" data-toggle="tab" data-target="#tabTestDashboard"
                   role="tab" aria-controls="tab_03" aria-selected="false">Dashboard</a>
            </li>-->
            <li class="nav-item">
                <a class="nav-link" href="/pm/testBuildList?pjid={{menuParams.pjid}}&module=pj" id="tab_04-tab" data-toggle="tab" data-target="#tabTestBuildList"
                   role="tab" aria-controls="tab_04" aria-selected="false">Build</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/pm/testCaseQuery?pjid={{menuParams.pjid}}&module=pj" id="tab_05-tab" data-toggle="tab" data-target="#tabTestCaseQuery"
                   role="tab" aria-controls="tab_05" aria-selected="false">Query</a>
            </li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content tab-content-sprint">
            <div class="tab-pane" style="height:100%;width:100%" id="tabTestPlan" role="tabpanel" aria-labelledby="tab_01-tab"></div>
            <div class="tab-pane active" style="height:100%;width:100%" id="tabTestRun" role="tabpanel" aria-labelledby="tab_02-tab">
                <div class="content_6_4 d-flex mb-0">
                    <div class="content_4 mr-10 col-left" ng-show="collapsed">
                        <div class="mb-10">
                            <lv-select element-id="sprint-task-list" field="testSuite" model="currentTestSuiteId" setting="setting" config="configType" tab="2" change="loadPBL()" style="width: 100%"></lv-select>
                        </div>
                        <div class="button-wrapper">
                            <div class="d-flex" style="align-items: center">
                                <div class="bowtie-icon mr-5" ng-class="abc ? 'bowtie-view-list-tree' : 'bowtie-view-list'" style="font-size: 14px" ng-click="viewList()"></div>
                                <span class="title" ng-bind="::translation.COLLEFTTITLE"></span>
                            </div>
                        </div>
                        <div class="gridWrapper">
                            <div id="grvPBL" class="control-grid" style="height:100%; width:100%;"></div>
                        </div>
                    </div>
                    <!--<div id="panelTree" class="float-right" ng-class="collapsed ? 'content_6' : 'w_100'">-->
                    <div class="float-right" ng-class="collapsed ? 'content_6' : 'w_100'">
                        <div id="grvTestPlanWrapper" style="height:65%">
                            <div class="testSuite-wrapper mb_10 d-flex">
                                <div class="txt_cut mr_15">
                                    <button type="button" class="fullscreen" ng-click="collapseLeft()" title="Collapse"><i class="bowtie-icon" ng-class="collapsed ? 'bowtie-chevron-left-light' : 'bowtie-chevron-right-light'"></i></button>
                                    Test suite {{currentPBL.no}}: <span>{{currentPBL.name}}</span>
                                </div>
                                <div style="display: flex;align-items: center;width: 300px"><span style="margin-right: 10px; font-weight: normal">Build:</span><lv-select nolabel="true" element-id="vll_buildList" field="buildList" model="currentBuildListId" setting="setting" change="buildChanged()" class="w_100"></lv-select></div>
                            </div>
                            <dl class="mb_15" style="height:calc(100% - 50px)">
                                <dd style="height:100%">
                                    <div class="gridWrapper border_a" style="margin-bottom: 10px">
                                        <div id="grvTestPlan" class="control-grid" style="width:100%;height: 100%;"></div>
                                    </div>
                                </dd>
                            </dl>
                        </div>

                        <dl class="mb-0" id="grvTestResultsWrapper" style="height:35%">
                            <dt class="pos_re h_35">
                                <a class="title_02 bg_gray_01">
                                    <span style="margin: 0">Test results (Bug)</span>
                                    <div style="display: flex; position: absolute; right: 0; bottom: 5px;">
                                        <div class="btn-small blue" title="Edit Testcase" ng-click="editTestResult()"><i class="bowtie-icon bowtie-edit-outline"></i></div>
                                        <div class="btn-small red mr_0" title="Delete Testcase" ng-click="deleteTestResult()"><i class="bowtie-icon bowtie-edit-delete"></i></div>
                                    </div>
                                </a>
                            </dt>
                            <dd style="width: 100%; height: calc(100% - 30px);">
                                <div class="gridWrapper border_a" style="width: 100%; height: 100%;">
                                    <div id="grvTestResults" class="control-grid" style="width:100%;height:100%;overflow: auto; height: 100%;"></div>
                                </div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
            <!--<div class="tab-pane" style="height:100%;width:100%" id="tabTestDashboard" role="tabpanel" aria-labelledby="tab_03-tab"></div>-->
            <div class="tab-pane" style="height:100%;width:100%" id="tabTestBuildList" role="tabpanel" aria-labelledby="tab_04-tab"></div>
            <div class="tab-pane" style="height:100%;width:100%" id="tabTestCaseQuery" role="tabpanel" aria-labelledby="tab_05-tab"></div>
        </div>
    </div>

    <!-- Modal import work item -->
    <div class="modal fade modal_center" role="dialog" id="modal-import">
        <div class="modal-dialog" style="width:1000px">
            <div class="modal-content">
                <div class="modal-header">
                    <p class="modal_header_title"><span ng-bind="::translation.TITLE_IMPORT"></span></p>
                    <div class="box_btn_02">
                        <button type="button" class="fullscreen btn-modal-screen" title="{{translation.BTN_SCREEN}}"><i onclick="fullscreen('modal-import')" class="bowtie-icon bowtie-view-full-screen"></i></button>
                        <button type="button" class="btn_close_02" data-dismiss="modal" title="{{translation.BTN_CLOSE}}"><i class="bowtie-icon bowtie-edit-remove"></i></button>
                    </div>
                </div>

                <div class="modal-body">
                    <div class="modal-body-maincontent autoHeight" style="max-height:600px">
                        <div id="gridImport" style="height:100%;width:100%"></div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button ng-click="saveImport()" type="button" class="btn btn_save_02"><i class="bowtie-icon bowtie-save"></i><span ng-bind="::translation.BTN_SAVE_CLOSE"></span></button>
                </div>
            </div>
        </div>
    </div>

    <lv-include path="app/pm/testRun/testRunForm" name="testRunForm"></lv-include>

    <!-- Modal workItemForm-->
    <lv-include path="app/pm/workItem/workItemForm" name="workItemForm"></lv-include>

    <div lv-include path="app/system/recorder" name="recorder"></div>
</div>